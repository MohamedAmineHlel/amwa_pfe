
<!-- Top Navbar -->
<nav class="top-navbar">
  
  <div class="profile-container">
   <a routerLink="/profile"> <p>{{ profileInfo?.ourUsers?.name }}</p></a>
    <a class="profile-link" routerLink="/profile">
      <i class="bi bi-person-circle"></i>
    </a>
  </div>
</nav>
<br><br>

<div class="wrapper">
  


    <!-- Sidebar -->
    <nav [class]="'sidebar' + (isSidebarCollapsed ? ' collapsed' : '')">
      <div class="sidebar-header mb-4">
        <!-- Logo 
        
        <img src="assets/vision.png" alt="Vision Logo" class="logo" *ngIf="!isSidebarCollapsed">
        <img src="assets/vision.png" alt="Vision Logo" class="logo-collapsed" *ngIf="isSidebarCollapsed">
-->
<h3 *ngIf="!isSidebarCollapsed" class="text-white title-expanded">VISION</h3>
<h3 *ngIf="isSidebarCollapsed" class="text-white title-collapsed">V</h3>
        <hr>
      </div>
      <p *ngIf="!isSidebarCollapsed" class="text-white2">Menu</p>
      <p *ngIf="isSidebarCollapsed" class="text-white2">M</p>
      <ul class="list-unstyled">
        <li *ngIf="!isAuthenticated">
          <a class="nav-link" routerLink="/login">
            <i class="bi bi-house-door me-2"></i>
            <span *ngIf="!isSidebarCollapsed">Home</span>
          </a>
        </li>
        <li *ngIf="isAuthenticated">
          <a class="nav-link" routerLink="/profile">
            <i class="bi bi-person me-2"></i>
            <span *ngIf="!isSidebarCollapsed">Profile</span>
          </a>
           </li>
        <li *ngIf="isAdmin" class="nav-item">
          <a class="nav-link d-flex justify-content-between align-items-center" (click)="toggleUserManagement()">
            <span>
              <i class="bi bi-people me-2"></i> 
              <span *ngIf="!isSidebarCollapsed">Users</span>
            </span>
            <i [class]="isUserManagementOpen ? 'bi bi-chevron-down' : 'bi bi-chevron-right'"></i>
          </a>
          
          <!-- Dropdown Menu -->
          <ul *ngIf="isUserManagementOpen" class="list-unstyled ms-3">
            <li>
              <a class="nav-link" routerLink="/users">
                <i class="bi bi-list me-2"></i>
                <span *ngIf="!isSidebarCollapsed">Users List</span>
              </a>
            </li>
            <li>
              <a class="nav-link" routerLink="/register">
                <i class="bi bi-person-plus-fill me-2"></i>
                <span *ngIf="!isSidebarCollapsed">Add User</span>
              </a>
            </li>
            
          </ul>
          
        </li>
        <li>
          <a class="nav-link" routerLink="/teams">
            <i class="bi bi-collection   me-2"></i>
            <span *ngIf="!isSidebarCollapsed">Teams</span>
          </a>
        </li>
        <li>
          <a class="nav-link" routerLink="/tasks">
            <i class="bi bi-card-checklist me-2"></i>
            <span *ngIf="!isSidebarCollapsed">Tasks</span>
          </a>
        </li>
        <li *ngIf="!isAuthenticated">
          <a class="nav-link" routerLink="/login">
            <i class="bi bi-box-arrow-in-right me-2"></i>
            <span *ngIf="!isSidebarCollapsed">Login</span>
          </a>
        </li>
        <li *ngIf="isAuthenticated">
          <a class="nav-link" routerLink="" (click)="logout()">
            <i class="bi bi-box-arrow-left me-2"></i>
            <span *ngIf="!isSidebarCollapsed">Logout</span>
          </a>
        </li>
      </ul>
    </nav>
  
    <!-- Toggle Button -->
    <button 
      [class]="'toggle-btn' + (isSidebarCollapsed ? ' collapsed' : '')"
      (click)="toggleSidebar()">
      <i [class]="isSidebarCollapsed ? 'bi bi-chevron-right' : 'bi bi-chevron-left'"></i>
    </button>
  
    <!-- Main Content -->
    <div [class]="'main-content' + (isSidebarCollapsed ? ' expanded' : '')">
      <router-outlet></router-outlet>
    </div>
  </div>